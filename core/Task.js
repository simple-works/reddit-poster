//══════════════════════════════════════════════════════════════════════════════
// ■ Task (Task.js)
//┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈
//     Class representing a reddit posting task.
//══════════════════════════════════════════════════════════════════════════════
const check = require("check-types");
const Post = require("./Post");
const Schedule = require("./Schedule");
const { enumerate } = require("../utils/");

//──────────────────────────────────────────────────────────────────────────────
// ● Task-Class
//──────────────────────────────────────────────────────────────────────────────
class Task {
  _sub = "";
  _post = new Post();
  _schedule = new Schedule();

  constructor(task = {}) {
    check.assert.maybe.object(task);
    const { sub, post, schedule } = task || {};
    this.sub = sub;
    this.post = post;
    this.schedule = schedule;
  }

  //╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌
  // ♦ Subreddit
  //╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌

  get sub() {
    return this._sub;
  }

  set sub(value) {
    check.assert.maybe.string(value);
    this._sub = value || "";
  }

  //╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌
  // ♦ Post
  //╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌

  get post() {
    return this._post;
  }

  set post(value) {
    this._post = new Post(value);
  }

  //╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌
  // ♦ Schedule
  //╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌

  get schedule() {
    return this._schedule;
  }

  set schedule(value) {
    this._schedule = new Schedule(value);
  }
}

//──────────────────────────────────────────────────────────────────────────────
// ● Enumerate-Class-Accessors
//──────────────────────────────────────────────────────────────────────────────
enumerate(Task, [
  "sub",
  "post",
  "schedule"
]);

//──────────────────────────────────────────────────────────────────────────────
// ► Exports
//──────────────────────────────────────────────────────────────────────────────
module.exports = Task;
